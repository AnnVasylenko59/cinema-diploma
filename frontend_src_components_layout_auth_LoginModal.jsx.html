<!DOCTYPE html>
<html lang="en">
<head>
    
    <meta charset="utf-8">
    <title>frontend/src/components/layout/auth/LoginModal.jsx - Documentation</title>
    
    
    <script src="scripts/prettify/prettify.js"></script>
    <script src="scripts/prettify/lang-css.js"></script>
    <!--[if lt IE 9]>
      <script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->
    <link type="text/css" rel="stylesheet" href="styles/prettify.css">
    <link type="text/css" rel="stylesheet" href="styles/jsdoc.css">
    <script src="scripts/nav.js" defer></script>
    
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
</head>
<body>

<input type="checkbox" id="nav-trigger" class="nav-trigger" />
<label for="nav-trigger" class="navicon-button x">
  <div class="navicon"></div>
</label>

<label for="nav-trigger" class="overlay"></label>

<nav >
    
    
    <h2><a href="index.html">Home</a></h2><h3>Modules</h3><ul><li><a href="module-bookingController.html">bookingController</a></li><li><a href="module-hooks_useFilters.html">hooks/useFilters</a></li></ul><h3>Global</h3><ul><li><a href="global.html#BookingPage">BookingPage</a></li><li><a href="global.html#HomePage">HomePage</a></li><li><a href="global.html#LoginModal">LoginModal</a></li><li><a href="global.html#MovieCard">MovieCard</a></li><li><a href="global.html#SeatPicker">SeatPicker</a></li><li><a href="global.html#TheatersPage">TheatersPage</a></li><li><a href="global.html#auth">auth</a></li><li><a href="global.html#authAPI">authAPI</a></li><li><a href="global.html#authenticateToken">authenticateToken</a></li><li><a href="global.html#checkAvailability">checkAvailability</a></li><li><a href="global.html#checkDatabaseConnection">checkDatabaseConnection</a></li><li><a href="global.html#classNames">classNames</a></li><li><a href="global.html#fetchCities">fetchCities</a></li><li><a href="global.html#fetchSeats">fetchSeats</a></li><li><a href="global.html#genreAPI">genreAPI</a></li><li><a href="global.html#getAllMovies">getAllMovies</a></li><li><a href="global.html#getMovieById">getMovieById</a></li><li><a href="global.html#getProfile">getProfile</a></li><li><a href="global.html#getRecommendedMovies">getRecommendedMovies</a></li><li><a href="global.html#getShowtimes">getShowtimes</a></li><li><a href="global.html#loadContent">loadContent</a></li><li><a href="global.html#loginUser">loginUser</a></li><li><a href="global.html#minutesToHMM">minutesToHMM</a></li><li><a href="global.html#movieAPI">movieAPI</a></li><li><a href="global.html#register">register</a></li><li><a href="global.html#showtimeAPI">showtimeAPI</a></li><li><a href="global.html#theaterAPI">theaterAPI</a></li><li><a href="global.html#updateProfile">updateProfile</a></li><li><a href="global.html#useAuth">useAuth</a></li><li><a href="global.html#validateEmail">validateEmail</a></li><li><a href="global.html#validatePassword">validatePassword</a></li><li><a href="global.html#validateRating">validateRating</a></li><li><a href="global.html#validateUsername">validateUsername</a></li><li><a href="global.html#watchlistAPI">watchlistAPI</a></li></ul>
    
</nav>

<div id="main">
    
    <h1 class="page-title">frontend/src/components/layout/auth/LoginModal.jsx</h1>
    

    



    
    <section>
        <article>
            <pre class="prettyprint source linenums"><code>import React, { useState, useEffect } from "react";
import { Mail, Lock, Eye, EyeOff } from "lucide-react";
import { Button } from "../../ui/Atoms.jsx";
import { useTranslation } from "react-i18next";
import { BaseAuthModal } from "./BaseAuthModal.jsx";
import { FormField } from "./FormField.jsx";
import { AuthFooter } from "./AuthFooter.jsx";

/**
 * Модальне вікно для входу користувача в систему.
 * @component
 * @param {Object} props - Властивості компонента.
 * @param {boolean} props.open - Стан видимості модального вікна.
 * @param {Function} props.onClose - Функція закриття вікна.
 * @param {Function} props.onLogin - Функція для виконання запиту на авторизацію.
 * @param {Function} props.onSwitchToRegister - Функція для перемикання на вікно реєстрації.
 * @returns {JSX.Element} Форма авторизації з полями логіна та пароля.
 */
export const LoginModal = ({ open, onClose, onLogin, onSwitchToRegister }) => {
    const { t } = useTranslation();
    const [login, setLogin] = useState("");
    const [password, setPassword] = useState("");
    const [showPassword, setShowPassword] = useState(false);
    const [error, setError] = useState("");
    const [loading, setLoading] = useState(false);

    useEffect(() => {
        if (!open) {
            setLogin(""); setPassword(""); setShowPassword(false); setError(""); setLoading(false);
        }
    }, [open]);

    /**
     * Обробляє відправку форми та валідує введені дані.
     * @async
     * @param {React.FormEvent} e - Подія відправки форми.
     * @returns {Promise&lt;void>} Виконує вхід та закриває вікно при успіху.
     */
    const handleSubmit = async (e) => {
        e.preventDefault();
        setError("");
        if (!login || !password) { setError(t('auth.error_empty')); return; }
        setLoading(true);
        try {
            const result = await onLogin({ login, password });
            if (result.success) onClose(); else setError(result.error);
        } catch { setError(t('auth.error_unexpected')); } finally { setLoading(false); }
    };

    return (
        &lt;BaseAuthModal open={open} onClose={onClose} title={t('auth.login_title')} subtitle={t('auth.login_subtitle')}>
            &lt;form onSubmit={handleSubmit} className="space-y-4">
                &lt;FormField label={t('auth.fields.login')} icon={Mail} autoFocus disabled={loading} placeholder={t('auth.fields.login_placeholder')} value={login} onChange={e => setLogin(e.target.value)} />

                &lt;FormField
                    label={t('auth.fields.password')}
                    icon={Lock}
                    type={showPassword ? "text" : "password"}
                    disabled={loading}
                    placeholder={t('auth.fields.password_placeholder')}
                    value={password}
                    onChange={e => setPassword(e.target.value)}
                    rightElement={&lt;button type="button" className="text-slate-400" onClick={() => setShowPassword(!showPassword)}>{showPassword ? &lt;EyeOff size={18} /> : &lt;Eye size={18} />}&lt;/button>}
                />

                {error &amp;&amp; &lt;div className="text-red-600 text-xs font-bold text-center bg-red-50 p-2.5 rounded-xl border border-red-100">{error}&lt;/div>}

                &lt;Button type="submit" disabled={loading} className="w-full py-4 bg-[#ef4444] text-white rounded-2xl font-bold text-[13px] uppercase tracking-widest shadow-xl shadow-red-500/20 hover:bg-red-600 transition-all mt-2">
                    {loading ? t('auth.login_loading') : t('auth.login_button')}
                &lt;/Button>
            &lt;/form>

            &lt;AuthFooter text={t('auth.no_account')} linkText={t('auth.register_link')} onClick={() => { onClose(); onSwitchToRegister(); }} />
        &lt;/BaseAuthModal>
    );
};</code></pre>
        </article>
    </section>




    
    
</div>

<br class="clear">

<footer>
    Documentation generated by <a href="https://github.com/jsdoc3/jsdoc">JSDoc 4.0.5</a> on Sun Feb 22 2026 13:58:40 GMT+0000 (Coordinated Universal Time) using the <a href="https://github.com/clenemt/docdash">docdash</a> theme.
</footer>

<script>prettyPrint();</script>
<script src="scripts/polyfill.js"></script>
<script src="scripts/linenumber.js"></script>



</body>
</html>
