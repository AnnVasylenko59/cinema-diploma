# üèõÔ∏è –ê—Ä—Ö—ñ—Ç–µ–∫—Ç—É—Ä–∞ —Å–∏—Å—Ç–µ–º–∏ "–ö—ñ–Ω–æ–∞—Ñ—ñ—à–∞" (Cinema-Diploma)

–¶–µ–π –¥–æ–∫—É–º–µ–Ω—Ç –æ–ø–∏—Å—É—î –∞—Ä—Ö—ñ—Ç–µ–∫—Ç—É—Ä–Ω—ñ —Ä—ñ—à–µ–Ω–Ω—è, –±—ñ–∑–Ω–µ—Å-–ª–æ–≥—ñ–∫—É —Ç–∞ —Ç–µ—Ö–Ω—ñ—á–Ω—É –≤–∑–∞—î–º–æ–¥—ñ—é –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ñ–≤ –≤–µ–±—Å–∏—Å—Ç–µ–º–∏ –¥–ª—è –±—Ä–æ–Ω—é–≤–∞–Ω–Ω—è –∫–≤–∏—Ç–∫—ñ–≤.

---

## 1. –¢–µ—Ö–Ω–æ–ª–æ–≥—ñ—á–Ω–∏–π —Å—Ç–µ–∫ —Ç–∞ –æ–±“ë—Ä—É–Ω—Ç—É–≤–∞–Ω–Ω—è

–í–∏–±—ñ—Ä —Ç–µ—Ö–Ω–æ–ª–æ–≥—ñ–π –±–∞–∑—É—î—Ç—å—Å—è –Ω–∞ –∑–∞–±–µ–∑–ø–µ—á–µ–Ω–Ω—ñ —à–≤–∏–¥–∫–æ–¥—ñ—ó, –±–µ–∑–ø–µ–∫–∏ —Ç–∞ –º–∞—Å—à—Ç–∞–±–æ–≤–∞–Ω–æ—Å—Ç—ñ:

* **Frontend**: **React (Vite)** ‚Äî –æ–±—Ä–∞–Ω–æ –¥–ª—è –∑–∞–±–µ–∑–ø–µ—á–µ–Ω–Ω—è –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–Ω–æ–≥–æ –ø—ñ–¥—Ö–æ–¥—É —Ç–∞ –º–∏—Ç—Ç—î–≤–æ–≥–æ —Ä–µ–Ω–¥–µ—Ä–∏–Ω–≥—É SPA. Vite –∑–∞–±–µ–∑–ø–µ—á—É—î —à–≤–∏–¥–∫—É –∑–±—ñ—Ä–∫—É –ø—Ä–æ—î–∫—Ç—É.
* **Backend**: **Node.js (Express)** ‚Äî –ª–µ–≥–∫–æ–≤–∞–≥–∏–π —Ñ—Ä–µ–π–º–≤–æ—Ä–∫, —â–æ —ñ–¥–µ–∞–ª—å–Ω–æ –ø—ñ–¥—Ö–æ–¥–∏—Ç—å –¥–ª—è —Ä–æ–∑—Ä–æ–±–∫–∏ RESTful API —Ç–∞ –æ–±—Ä–æ–±–∫–∏ –∞—Å–∏–Ω—Ö—Ä–æ–Ω–Ω–∏—Ö –æ–ø–µ—Ä–∞—Ü—ñ–π.
* **ORM**: **Prisma** ‚Äî —à–∞—Ä –∞–±—Å—Ç—Ä–∞–∫—Ü—ñ—ó –±–∞–∑–∏ –¥–∞–Ω–∏—Ö, —â–æ –∑–∞–±–µ–∑–ø–µ—á—É—î —Å—Ç—Ä–æ–≥—É —Ç–∏–ø—ñ–∑–∞—Ü—ñ—é (Type-safety) —Ç–∞ –∞–≤—Ç–æ–º–∞—Ç–∏—á–Ω–µ –∫–µ—Ä—É–≤–∞–Ω–Ω—è –º—ñ–≥—Ä–∞—Ü—ñ—è–º–∏.
* **Database**: **PostgreSQL** ‚Äî —Ä–µ–ª—è—Ü—ñ–π–Ω–∞ –±–∞–∑–∞ –¥–∞–Ω–∏—Ö, —â–æ –≥–∞—Ä–∞–Ω—Ç—É—î —Ü—ñ–ª—ñ—Å–Ω—ñ—Å—Ç—å –¥–∞–Ω–∏—Ö (ACID) –¥–ª—è —Ñ—ñ–Ω–∞–Ω—Å–æ–≤–∏—Ö –æ–ø–µ—Ä–∞—Ü—ñ–π (–±—Ä–æ–Ω—é–≤–∞–Ω—å).
* **Security**: **JWT (JSON Web Tokens)** ‚Äî —Ä–µ–∞–ª—ñ–∑—É—î –±–µ–∑—Å–µ—Å—ñ–π–Ω—É (Stateless) –∞—É—Ç–µ–Ω—Ç–∏—Ñ—ñ–∫–∞—Ü—ñ—é.



---

## 2. –ü–æ—Ç—ñ–∫ –¥–∞–Ω–∏—Ö (Data Flow) —Ç–∞ –≤–∑–∞—î–º–æ–¥—ñ—è

–í–∑–∞—î–º–æ–¥—ñ—è –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ñ–≤ —É —Å–∏—Å—Ç–µ–º—ñ –≤—ñ–¥–±—É–≤–∞—î—Ç—å—Å—è –∑–∞ –Ω–∞—Å—Ç—É–ø–Ω–∏–º –ª–∞–Ω—Ü—é–∂–∫–æ–º:

1.  **UI Layer**: –ö–æ—Ä–∏—Å—Ç—É–≤–∞—á –≤–∑–∞—î–º–æ–¥—ñ—î –∑ React-–∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∞–º–∏ (–Ω–∞–ø—Ä., –≤–∏–±—ñ—Ä –º—ñ—Å—Ü—è –≤ `SeatPicker.jsx`).
2.  **Logic Layer**: –°—Ç–∞–Ω –æ–±—Ä–æ–±–ª—è—î—Ç—å—Å—è —á–µ—Ä–µ–∑ **Custom Hooks** (`useAuth`, `useFilters`), —è–∫—ñ —ñ–Ω–∫–∞–ø—Å—É–ª—é—é—Ç—å –ª–æ–≥—ñ–∫—É –≤—ñ–¥ —Ä–µ–Ω–¥–µ—Ä–∏–Ω–≥—É.
3.  **Network Layer**: –°–µ—Ä–≤—ñ—Å **Axios (`api.js`)** –¥–æ–¥–∞—î —Ç–æ–∫–µ–Ω –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü—ñ—ó –∑ `localStorage` —Ç–∞ –≤—ñ–¥–ø—Ä–∞–≤–ª—è—î HTTP-–∑–∞–ø–∏—Ç.
4.  **Security Layer**: –ù–∞ –±–µ–∫–µ–Ω–¥—ñ Middleware `auth.js` –ø–µ—Ä–µ–≤—ñ—Ä—è—î –≤–∞–ª—ñ–¥–Ω—ñ—Å—Ç—å JWT.
5.  **Service Layer**: –ö–æ–Ω—Ç—Ä–æ–ª–µ—Ä (`bookingController.js`) –æ—Ç—Ä–∏–º—É—î –∑–∞–ø–∏—Ç, –ø–µ—Ä–µ–≤—ñ—Ä—è—î –±—ñ–∑–Ω–µ—Å-–ø—Ä–∞–≤–∏–ª–∞ —Ç–∞ –∑–≤–µ—Ä—Ç–∞—î—Ç—å—Å—è –¥–æ Prisma.
6.  **Data Layer**: Prisma —Å–∏–Ω—Ö—Ä–æ–Ω—ñ–∑—É—î –∑–º—ñ–Ω–∏ –∑ PostgreSQL —É –º–µ–∂–∞—Ö —Ç—Ä–∞–Ω–∑–∞–∫—Ü—ñ—ó.



---

## 3. –ö—Ä–∏—Ç–∏—á–Ω—ñ –∞—Ä—Ö—ñ—Ç–µ–∫—Ç—É—Ä–Ω—ñ —Ä—ñ—à–µ–Ω–Ω—è (100% Completion)

### üõ°Ô∏è –ë–µ–∑–ø–µ–∫–∞ —Ç–∞ Stateless-–ø—ñ–¥—Ö—ñ–¥
–°–∏—Å—Ç–µ–º–∞ –Ω–µ –∑–±–µ—Ä—ñ–≥–∞—î —Å–µ—Å—ñ—ó –Ω–∞ —Å–µ—Ä–≤–µ—Ä—ñ. –í—Å—è —ñ–Ω—Ñ–æ—Ä–º–∞—Ü—ñ—è –ø—Ä–æ –∫–æ—Ä–∏—Å—Ç—É–≤–∞—á–∞ (ID, —Ä–æ–ª—å) –∑–∞—à–∏—Ñ—Ä–æ–≤–∞–Ω–∞ –≤ JWT. –¶–µ –¥–æ–∑–≤–æ–ª—è—î —Å–µ—Ä–≤–µ—Ä—É –±—É—Ç–∏ –º–∞—Å—à—Ç–∞–±–æ–≤–∞–Ω–∏–º (Horizontal Scaling), –æ—Å–∫—ñ–ª—å–∫–∏ –±—É–¥—å-—è–∫–∏–π –µ–∫–∑–µ–º–ø–ª—è—Ä –¥–æ–¥–∞—Ç–∫–∞ –º–æ–∂–µ –æ–±—Ä–æ–±–∏—Ç–∏ –∑–∞–ø–∏—Ç, –º–∞—é—á–∏ –ª–∏—à–µ —Å–µ–∫—Ä–µ—Ç–Ω–∏–π –∫–ª—é—á.

### ‚ö° –ê–ª–≥–æ—Ä–∏—Ç–º –∫–ª—ñ—î–Ω—Ç—Å—å–∫–æ—ó —Ñ—ñ–ª—å—Ç—Ä–∞—Ü—ñ—ó
–î–ª—è –ø–æ–∫—Ä–∞—â–µ–Ω–Ω—è UX –∑–∞—Å—Ç–æ—Å–æ–≤–∞–Ω–æ **Client-side filtering** —É —Ö—É–∫—É `useFilters`.
* **–ê–ª–≥–æ—Ä–∏—Ç–º**: –ë–∞–≥–∞—Ç–æ—Ñ–∞–∫—Ç–æ—Ä–Ω–∏–π –ø–æ—à—É–∫ (—Ç–µ–∫—Å—Ç + –∂–∞–Ω—Ä–∏ + —Ä–µ–π—Ç–∏–Ω–≥).
* **–û–±“ë—Ä—É–Ω—Ç—É–≤–∞–Ω–Ω—è**: –ö–∞—Ç–∞–ª–æ–≥ —Ñ—ñ–ª—å–º—ñ–≤ –∑–∞–≤–∞–Ω—Ç–∞–∂—É—î—Ç—å—Å—è –æ–¥–∏–Ω —Ä–∞–∑, —â–æ –∑–Ω—ñ–º–∞—î –Ω–∞–≤–∞–Ω—Ç–∞–∂–µ–Ω–Ω—è –∑ –ë–î –ø—Ä–∏ –∫–æ–∂–Ω–æ–º—É –Ω–∞—Ç–∏—Å–∫–∞–Ω–Ω—ñ –∫–ª–∞–≤—ñ—à—ñ –≤ –ø–æ—à—É–∫—É —Ç–∞ –∑–∞–±–µ–∑–ø–µ—á—É—î –Ω—É–ª—å–æ–≤—É –∑–∞—Ç—Ä–∏–º–∫—É —ñ–Ω—Ç–µ—Ä—Ñ–µ–π—Å—É.

### üéüÔ∏è –¢—Ä–∞–Ω–∑–∞–∫—Ü—ñ–π–Ω–µ –±—Ä–æ–Ω—é–≤–∞–Ω–Ω—è —Ç–∞ Race Condition
–ù–∞–π–≤–∞–∂–ª–∏–≤—ñ—à–∏–π –∞–ª–≥–æ—Ä–∏—Ç–º —Å–∏—Å—Ç–µ–º–∏ ‚Äî –æ–±—Ä–æ–±–∫–∞ –∑–∞–º–æ–≤–ª–µ–Ω–Ω—è. –î–ª—è —É–Ω–∏–∫–Ω–µ–Ω–Ω—è —Å–∏—Ç—É–∞—Ü—ñ—ó, –∫–æ–ª–∏ –¥–≤–∞ –∫–æ—Ä–∏—Å—Ç—É–≤–∞—á—ñ –æ–¥–Ω–æ—á–∞—Å–Ω–æ –∫—É–ø—É—é—Ç—å –æ–¥–Ω–µ –º—ñ—Å—Ü–µ, –≤–∏–∫–æ—Ä–∏—Å—Ç–∞–Ω–æ `$transaction` —É Prisma:
1.  –ë–ª–æ–∫—É–≤–∞–Ω–Ω—è –ø–µ—Ä–µ–≤—ñ—Ä–∫–∏ (Select).
2.  –ü–µ—Ä–µ–≤—ñ—Ä–∫–∞ —ñ—Å–Ω—É—é—á–∏—Ö –∫–≤–∏—Ç–∫—ñ–≤.
3.  –ê—Ç–æ–º–∞—Ä–Ω–µ —Å—Ç–≤–æ—Ä–µ–Ω–Ω—è –∑–∞–ø–∏—Å—ñ–≤ `Booking` —Ç–∞ `Ticket`.
    –Ø–∫—â–æ –Ω–∞ –∫—Ä–æ—Ü—ñ 2 –≤–∏—è–≤–ª–µ–Ω–æ, —â–æ –º—ñ—Å—Ü–µ –≤–∂–µ –∑–∞–π–Ω—è—Ç–µ —ñ–Ω—à–∏–º ‚Äî –≤—Å—è —Ç—Ä–∞–Ω–∑–∞–∫—Ü—ñ—è —Å–∫–∞—Å–æ–≤—É—î—Ç—å—Å—è (Rollback).



---

## 4. –ë—ñ–∑–Ω–µ—Å-–ª–æ–≥—ñ–∫–∞ —Å–∏—Å—Ç–µ–º–∏

* **–î–æ—Å—Ç—É–ø–Ω—ñ—Å—Ç—å**: –°–µ–∞–Ω—Å —Å—Ç–∞—î –Ω–µ–¥–æ—Å—Ç—É–ø–Ω–∏–º –¥–ª—è –±—Ä–æ–Ω—é–≤–∞–Ω–Ω—è, —è–∫—â–æ –π–æ–≥–æ —á–∞—Å –ø–æ—á–∞—Ç–∫—É –≤–∂–µ –º–∏–Ω—É–≤ (–ø–µ—Ä–µ–≤—ñ—Ä–∫–∞ –Ω–∞ —Ä—ñ–≤–Ω—ñ API).
* **–õ–æ–∫–∞–ª—ñ–∑–∞—Ü—ñ—è**: –í–∏–∫–æ—Ä–∏—Å—Ç–∞–Ω–Ω—è `i18next` –¥–æ–∑–≤–æ–ª—è—î –∑–º—ñ–Ω—é–≤–∞—Ç–∏ –º–æ–≤—É —ñ–Ω—Ç–µ—Ä—Ñ–µ–π—Å—É –±–µ–∑ –ø–µ—Ä–µ–∑–∞–≤–∞–Ω—Ç–∞–∂–µ–Ω–Ω—è —Å—Ç–æ—Ä—ñ–Ω–∫–∏, –∑–±–µ—Ä—ñ–≥–∞—é—á–∏ –æ–±—Ä–∞–Ω—ñ —Ñ—ñ–ª—å—Ç—Ä–∏.
* **–í–∞–ª—ñ–¥–∞—Ü—ñ—è**: –†–µ—î—Å—Ç—Ä–∞—Ü—ñ—è —Ç–∞ –≤—Ö—ñ–¥ –∑–∞—Ö–∏—â–µ–Ω—ñ —Ä–µ–≥—É–ª—è—Ä–Ω–∏–º–∏ –≤–∏—Ä–∞–∑–∞–º–∏ –Ω–∞ —Ñ—Ä–æ–Ω—Ç–µ–Ω–¥—ñ —Ç–∞ —Å—Ç—Ä–æ–≥–∏–º–∏ –ø–µ—Ä–µ–≤—ñ—Ä–∫–∞–º–∏ –Ω–∞ –±–µ–∫–µ–Ω–¥—ñ (Middleware).

---

## 5. "–ñ–∏–≤–∞" –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü—ñ—è (Living Documentation)

–î–æ–∫—É–º–µ–Ω—Ç–∞—Ü—ñ—è –ø—Ä–æ—î–∫—Ç—É –ø—ñ–¥—Ç—Ä–∏–º—É—î—Ç—å—Å—è –≤ –∞–∫—Ç—É–∞–ª—å–Ω–æ–º—É —Å—Ç–∞–Ω—ñ –∑–∞–≤–¥—è–∫–∏:
- **JSDoc**: –ö–æ–∂–µ–Ω –ø—É–±–ª—ñ—á–Ω–∏–π —ñ–Ω—Ç–µ—Ä—Ñ–µ–π—Å –∑–∞–¥–æ–∫—É–º–µ–Ω—Ç–æ–≤–∞–Ω–∏–π —Ç–µ—Ö–Ω—ñ—á–Ω–∏–º –æ–ø–∏—Å–æ–º.
- **Test-Driven Docs**: –§–∞–π–ª–∏ —Ç–µ—Å—Ç—ñ–≤ (`auth.test.js`, `search.feature`) —Å–ª—É–∂–∞—Ç—å –∂–∏–≤–∏–º–∏ –ø—Ä–∏–∫–ª–∞–¥–∞–º–∏ –≤–∏–∫–æ—Ä–∏—Å—Ç–∞–Ω–Ω—è API —Ç–∞ –æ–ø–∏—Å—É—é—Ç—å –æ—á—ñ–∫—É–≤–∞–Ω—É –ø–æ–≤–µ–¥—ñ–Ω–∫—É —Å–∏—Å—Ç–µ–º–∏.